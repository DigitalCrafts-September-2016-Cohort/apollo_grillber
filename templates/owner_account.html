{%extends "layout.html"%}
{% block body %}

<div>
<table class="table">
  <thead class="thead-inverse">
  <tr>
    <th>
      reservation date
    </th>
    <th>
      grill size
    </th>
    <th>
      grill name
    </th>
    <th>
      customer name
    </th>
    <th>
    street
    </th>
    <th>
      zip code
    </th>
    <th>
      email
    </th>
    <th>
      phone number
    </th>
    <th>
      Remarks
    </th>
    <th>
      Status
    </th>
    <th>
      Cancel
    </th>
  </tr>
</thead>
{% for reservation in query %}

<tr>
  <td>{{reservation.reserve_date}}</td>
  <td>{{reservation.size}}</td>
  <td>{{reservation.unit_name}}</td>
  <td>{{reservation.name}}</td>
  <td>{{reservation.street}}</td>
  <td>{{reservation.zip_code}}</td>
  <td>{{reservation.email}}</td>
  <td>{{reservation.phone}}</td>

  {% if reservation.is_rented == "False" %}


  <form action="/submit_rental" method="post">
    <td>
    <input type="text" name="remarks" placeholder="Enter Comments Here">
    </td>
    <td>
      <input type="hidden" name="grill_id" value="{{reservation.g_id}}">
      <input type="hidden" name="rent_date" value="{{reservation.reserve_date}}">
      <input type="hidden" name="rid" value="{{reservation.rid}}">
      <button type="submit" class = "btn btn-warning" name="rent" value="{{reservation.status}}">Rent</button>
  </td>
</form>

    <td><form action="/submit_cancel" method="post">
    <button class="btn btn-danger" type="submit" name="cancel" value="{{reservation.rid}}">Cancel</button>
  </form>
</td>
    {%elif reservation.is_rented == "True" %}
    <form action="/submit_rental" method="post">
      <input type="text" name="remarks" value="{{reservation.remarks}}">
    <td>  <input type="hidden" name="grill_id" value="{{reservation.g_id}}">
      <input type="hidden" name="rid" value="{{reservation.rid}}">

        <button type="submit" class = "btn btn-primary" name="rent" value="{{reservation.status}}">Return</button>
    </td>  </form>

      {%endif%}
</tr>

{% endfor%}
</table>
</div>

{% endblock %}
